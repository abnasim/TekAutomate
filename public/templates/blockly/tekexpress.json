{
  "category": "TekExpress",
  "builderType": "blockly",
  "templates": [
    {
      "name": "TekExpress USB Test",
      "description": "Complete USB compliance test using TekExpress with eye diagram analysis",
      "backend": "tekexpress",
      "deviceType": "SCOPE",
      "builderType": "blockly",
      "xml": "<xml xmlns=\"https://developers.google.com/blockly/xml\">\n  <variables>\n    <variable>appStatus</variable>\n    <variable>resultValue</variable>\n    <variable>popup_msg</variable>\n  </variables>\n\n  <block type=\"connect_tekexpress\" id=\"tx_conn_1\" x=\"20\" y=\"20\">\n    <field name=\"DEVICE_NAME\">tekexp</field>\n    <field name=\"HOST\">localhost</field>\n    <field name=\"PORT\">5000</field>\n    <next>\n      <block type=\"tekexp_write\" id=\"tx_w_1\">\n        <field name=\"COMMAND\">TEKEXP:ACQUIRE_MODE LIVE</field>\n        <next>\n          <block type=\"tekexp_write\" id=\"tx_w_2\">\n            <field name=\"COMMAND\">TEKEXP:SELECT DEVICE,\"Host\"</field>\n            <next>\n              <block type=\"wait_seconds\" id=\"tx_wait_1\">\n                <field name=\"SECONDS\">2</field>\n                <next>\n                  <block type=\"tekexp_write\" id=\"tx_w_3\">\n                    <field name=\"COMMAND\">TEKEXP:VALUE DUTID,DemoDUTID</field>\n                    <next>\n                      <block type=\"tekexp_write\" id=\"tx_w_4\">\n                        <field name=\"COMMAND\">TEKEXP:VALUE GENERAL,\"Low Speed\",\"False\"</field>\n                        <next>\n                          <block type=\"wait_seconds\" id=\"tx_wait_2\">\n                            <field name=\"SECONDS\">2</field>\n                            <next>\n                              <block type=\"tekexp_write\" id=\"tx_w_5\">\n                                <field name=\"COMMAND\">TEKEXP:VALUE GENERAL,\"Full Speed\",\"False\"</field>\n                                <next>\n                                  <block type=\"wait_seconds\" id=\"tx_wait_3\">\n                                    <field name=\"SECONDS\">2</field>\n                                    <next>\n                                      <block type=\"tekexp_write\" id=\"tx_w_6\">\n                                        <field name=\"COMMAND\">TEKEXP:SELECT TEST,ALL,FALSE</field>\n                                        <next>\n                                          <block type=\"tekexp_write\" id=\"tx_w_7\">\n                                            <field name=\"COMMAND\">TEKEXP:SELECT TEST,\"HS_EyeDiagram\",TRUE</field>\n                                            <next>\n                                              <block type=\"tekexp_write\" id=\"tx_w_8\">\n                                                <field name=\"COMMAND\">TEKEXP:MODE USER-DEFINED</field>\n                                                <next>\n                                                  <block type=\"tekexp_write\" id=\"tx_w_9\">\n                                                    <field name=\"COMMAND\">TEKEXP:STATE RUN</field>\n                                                    <next>\n                                                      <block type=\"wait_seconds\" id=\"tx_wait_4\">\n                                                        <field name=\"SECONDS\">2</field>\n                                                        <next>\n                                                          <block type=\"tekexp_query\" id=\"tx_q_1\">\n                                                            <field name=\"COMMAND\">TEKEXP:STATE?</field>\n                                                            <field name=\"VARIABLE\">appStatus</field>\n                                                            <next>\n                                                              <block type=\"controls_whileUntil\" id=\"tx_while_1\">\n                                                                <field name=\"MODE\">WHILE</field>\n                                                                <value name=\"BOOL\">\n                                                                  <block type=\"logic_compare\" id=\"cmp_not_complete_1\">\n                                                                    <field name=\"OP\">NEQ</field>\n                                                                    <value name=\"A\">\n                                                                      <block type=\"variables_get\" id=\"get_appStatus_1\">\n                                                                        <field name=\"VAR\">appStatus</field>\n                                                                      </block>\n                                                                    </value>\n                                                                    <value name=\"B\">\n                                                                      <shadow type=\"text\" id=\"txt_complete_1\">\n                                                                        <field name=\"TEXT\">COMPLETE</field>\n                                                                      </shadow>\n                                                                    </value>\n                                                                  </block>\n                                                                </value>\n                                                                <statement name=\"DO\">\n                                                                  <block type=\"controls_if\" id=\"tx_if_1\">\n                                                                    <value name=\"IF0\">\n                                                                      <block type=\"logic_compare\" id=\"cmp_wait_1\">\n                                                                        <field name=\"OP\">EQ</field>\n                                                                        <value name=\"A\">\n                                                                          <block type=\"variables_get\" id=\"get_appStatus_2\">\n                                                                            <field name=\"VAR\">appStatus</field>\n                                                                          </block>\n                                                                        </value>\n                                                                        <value name=\"B\">\n                                                                          <shadow type=\"text\" id=\"txt_wait_1\">\n                                                                            <field name=\"TEXT\">WAIT</field>\n                                                                          </shadow>\n                                                                        </value>\n                                                                      </block>\n                                                                    </value>\n                                                                    <statement name=\"DO0\">\n                                                                      <block type=\"tekexp_popup\" id=\"tx_popup_1\">\n                                                                        <field name=\"RESPONSE\">OK</field>\n                                                                        <field name=\"VARIABLE\">popup_msg</field>\n                                                                      </block>\n                                                                    </statement>\n                                                                    <next>\n                                                                      <block type=\"wait_seconds\" id=\"tx_wait_loop_1\">\n                                                                        <field name=\"SECONDS\">2</field>\n                                                                        <next>\n                                                                          <block type=\"tekexp_query\" id=\"tx_q_loop_1\">\n                                                                            <field name=\"COMMAND\">TEKEXP:STATE?</field>\n                                                                            <field name=\"VARIABLE\">appStatus</field>\n                                                                          </block>\n                                                                        </next>\n                                                                      </block>\n                                                                    </next>\n                                                                  </block>\n                                                                </statement>\n                                                                <next>\n                                                                  <block type=\"tekexp_export_report\" id=\"tx_export_1\">\n                                                                    <field name=\"REPORT_TYPE\">REPORT</field>\n                                                                    <field name=\"FILENAME\">USB_Test_Report</field>\n                                                                    <next>\n                                                                      <block type=\"disconnect\" id=\"tx_disc_1\">\n                                                                      </block>\n                                                                    </next>\n                                                                  </block>\n                                                                </next>\n                                                              </block>\n                                                            </next>\n                                                          </block>\n                                                        </next>\n                                                      </block>\n                                                    </next>\n                                                  </block>\n                                                </next>\n                                              </block>\n                                            </next>\n                                          </block>\n                                        </next>\n                                      </block>\n                                    </next>\n                                  </block>\n                                </next>\n                              </block>\n                            </next>\n                          </block>\n                        </next>\n                      </block>\n                    </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </next>\n  </block>\n</xml>"
    }
  ]
}